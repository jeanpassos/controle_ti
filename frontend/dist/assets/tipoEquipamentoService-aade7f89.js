import{_ as L,m as E,n as $,o as x,p as P,t as W,q as V,s as A,v as _,w as G,x as H,y as O,S as B,z as J,R as v,A as X,f as D,B as Y,C as g}from"./index-2f37839b.js";var Z=function(i){L(u,i);function u(n,t){var e;return e=i.call(this)||this,e.client=n,e.options=t,e.trackedProps=[],e.selectError=null,e.bindMethods(),e.setOptions(t),e}var r=u.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),k(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return C(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return C(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(t,e){var a=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(t),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var c=this.hasListeners();c&&q(this.currentQuery,s,this.options,a)&&this.executeFetch(),this.updateResult(e),c&&(this.currentQuery!==s||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var o=this.computeRefetchInterval();c&&(this.currentQuery!==s||this.options.enabled!==a.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)},r.getOptimisticResult=function(t){var e=this.client.defaultQueryObserverOptions(t),a=this.client.getQueryCache().build(this.client,e);return this.createResult(a,e)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(t,e){var a=this,s={},c=function(l){a.trackedProps.includes(l)||a.trackedProps.push(l)};return Object.keys(t).forEach(function(o){Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:function(){return c(o),t[o]}})}),(e.useErrorBoundary||e.suspense)&&c("error"),s},r.getNextResult=function(t){var e=this;return new Promise(function(a,s){var c=e.subscribe(function(o){o.isFetching||(c(),o.isError&&(t!=null&&t.throwOnError)?s(o.error):a(o))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(t){return this.fetch(E({},t,{meta:{refetchPage:t==null?void 0:t.refetchPage}}))},r.fetchOptimistic=function(t){var e=this,a=this.client.defaultQueryObserverOptions(t),s=this.client.getQueryCache().build(this.client,a);return s.fetch().then(function(){return e.createResult(s,a)})},r.fetch=function(t){var e=this;return this.executeFetch(t).then(function(){return e.updateResult(),e.currentResult})},r.executeFetch=function(t){this.updateQuery();var e=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch($)),e},r.updateStaleTimeout=function(){var t=this;if(this.clearStaleTimeout(),!(x||this.currentResult.isStale||!P(this.options.staleTime))){var e=W(this.currentResult.dataUpdatedAt,this.options.staleTime),a=e+1;this.staleTimeoutId=setTimeout(function(){t.currentResult.isStale||t.updateResult()},a)}},r.computeRefetchInterval=function(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1},r.updateRefetchInterval=function(t){var e=this;this.clearRefetchInterval(),this.currentRefetchInterval=t,!(x||this.options.enabled===!1||!P(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(e.options.refetchIntervalInBackground||V.isFocused())&&e.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(t,e){var a=this.currentQuery,s=this.options,c=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,f=t!==a,p=f?t.state:this.currentQueryInitialState,m=f?this.currentResult:this.previousQueryResult,h=t.state,b=h.dataUpdatedAt,T=h.error,U=h.errorUpdatedAt,Q=h.isFetching,d=h.status,M=!1,w=!1,R;if(e.optimisticResults){var F=this.hasListeners(),j=!F&&k(t,e),K=F&&q(t,a,e,s);(j||K)&&(Q=!0,b||(d="loading"))}if(e.keepPreviousData&&!h.dataUpdateCount&&(m!=null&&m.isSuccess)&&d!=="error")R=m.data,b=m.dataUpdatedAt,d=m.status,M=!0;else if(e.select&&typeof h.data<"u")if(c&&h.data===(o==null?void 0:o.data)&&e.select===this.selectFn)R=this.selectResult;else try{this.selectFn=e.select,R=e.select(h.data),e.structuralSharing!==!1&&(R=A(c==null?void 0:c.data,R)),this.selectResult=R,this.selectError=null}catch(S){_().error(S),this.selectError=S}else R=h.data;if(typeof e.placeholderData<"u"&&typeof R>"u"&&(d==="loading"||d==="idle")){var y;if(c!=null&&c.isPlaceholderData&&e.placeholderData===(l==null?void 0:l.placeholderData))y=c.data;else if(y=typeof e.placeholderData=="function"?e.placeholderData():e.placeholderData,e.select&&typeof y<"u")try{y=e.select(y),e.structuralSharing!==!1&&(y=A(c==null?void 0:c.data,y)),this.selectError=null}catch(S){_().error(S),this.selectError=S}typeof y<"u"&&(d="success",R=y,w=!0)}this.selectError&&(T=this.selectError,R=this.selectResult,U=Date.now(),d="error");var z={status:d,isLoading:d==="loading",isSuccess:d==="success",isError:d==="error",isIdle:d==="idle",data:R,dataUpdatedAt:b,error:T,errorUpdatedAt:U,failureCount:h.fetchFailureCount,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>p.dataUpdateCount||h.errorUpdateCount>p.errorUpdateCount,isFetching:Q,isRefetching:Q&&d!=="loading",isLoadingError:d==="error"&&h.dataUpdatedAt===0,isPlaceholderData:w,isPreviousData:M,isRefetchError:d==="error"&&h.dataUpdatedAt!==0,isStale:I(t,e),refetch:this.refetch,remove:this.remove};return z},r.shouldNotifyListeners=function(t,e){if(!e)return!0;var a=this.options,s=a.notifyOnChangeProps,c=a.notifyOnChangePropsExclusions;if(!s&&!c||s==="tracked"&&!this.trackedProps.length)return!0;var o=s==="tracked"?this.trackedProps:s;return Object.keys(t).some(function(l){var f=l,p=t[f]!==e[f],m=o==null?void 0:o.some(function(b){return b===l}),h=c==null?void 0:c.some(function(b){return b===l});return p&&!h&&(!o||m)})},r.updateResult=function(t){var e=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!G(this.currentResult,e)){var a={cache:!0};(t==null?void 0:t.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,e)&&(a.listeners=!0),this.notify(E({},a,t))}},r.updateQuery=function(){var t=this.client.getQueryCache().build(this.client,this.options);if(t!==this.currentQuery){var e=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))}},r.onQueryUpdate=function(t){var e={};t.type==="success"?e.onSuccess=!0:t.type==="error"&&!H(t.error)&&(e.onError=!0),this.updateResult(e),this.hasListeners()&&this.updateTimers()},r.notify=function(t){var e=this;O.batch(function(){t.onSuccess?(e.options.onSuccess==null||e.options.onSuccess(e.currentResult.data),e.options.onSettled==null||e.options.onSettled(e.currentResult.data,null)):t.onError&&(e.options.onError==null||e.options.onError(e.currentResult.error),e.options.onSettled==null||e.options.onSettled(void 0,e.currentResult.error)),t.listeners&&e.listeners.forEach(function(a){a(e.currentResult)}),t.cache&&e.client.getQueryCache().notify({query:e.currentQuery,type:"observerResultsUpdated"})})},u}(B);function ee(i,u){return u.enabled!==!1&&!i.state.dataUpdatedAt&&!(i.state.status==="error"&&u.retryOnMount===!1)}function k(i,u){return ee(i,u)||i.state.dataUpdatedAt>0&&C(i,u,u.refetchOnMount)}function C(i,u,r){if(u.enabled!==!1){var n=typeof r=="function"?r(i):r;return n==="always"||n!==!1&&I(i,u)}return!1}function q(i,u,r,n){return r.enabled!==!1&&(i!==u||n.enabled===!1)&&(!r.suspense||i.state.status!=="error")&&I(i,r)}function I(i,u){return i.isStaleByTime(u.staleTime)}var te=function(i){L(u,i);function u(n,t){var e;return e=i.call(this)||this,e.client=n,e.setOptions(t),e.bindMethods(),e.updateResult(),e}var r=u.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(t){this.options=this.client.defaultMutationOptions(t)},r.onUnsubscribe=function(){if(!this.listeners.length){var t;(t=this.currentMutation)==null||t.removeObserver(this)}},r.onMutationUpdate=function(t){this.updateResult();var e={listeners:!0};t.type==="success"?e.onSuccess=!0:t.type==="error"&&(e.onError=!0),this.notify(e)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,E({},this.options,{variables:typeof t<"u"?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var t=this.currentMutation?this.currentMutation.state:J(),e=E({},t,{isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=e},r.notify=function(t){var e=this;O.batch(function(){e.mutateOptions&&(t.onSuccess?(e.mutateOptions.onSuccess==null||e.mutateOptions.onSuccess(e.currentResult.data,e.currentResult.variables,e.currentResult.context),e.mutateOptions.onSettled==null||e.mutateOptions.onSettled(e.currentResult.data,null,e.currentResult.variables,e.currentResult.context)):t.onError&&(e.mutateOptions.onError==null||e.mutateOptions.onError(e.currentResult.error,e.currentResult.variables,e.currentResult.context),e.mutateOptions.onSettled==null||e.mutateOptions.onSettled(void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context))),t.listeners&&e.listeners.forEach(function(a){a(e.currentResult)})})},u}(B);function re(){var i=!1;return{clearReset:function(){i=!1},reset:function(){i=!0},isReset:function(){return i}}}var se=v.createContext(re()),ne=function(){return v.useContext(se)};function N(i,u,r){return typeof u=="function"?u.apply(void 0,r):typeof u=="boolean"?u:!!i}function ae(i,u,r){var n=v.useRef(!1),t=v.useState(0),e=t[1],a=X(i,u,r),s=D(),c=v.useRef();c.current?c.current.setOptions(a):c.current=new te(s,a);var o=c.current.getCurrentResult();v.useEffect(function(){n.current=!0;var f=c.current.subscribe(O.batchCalls(function(){n.current&&e(function(p){return p+1})}));return function(){n.current=!1,f()}},[]);var l=v.useCallback(function(f,p){c.current.mutate(f,p).catch($)},[]);if(o.error&&N(void 0,c.current.options.useErrorBoundary,[o.error]))throw o.error;return E({},o,{mutate:l,mutateAsync:o.mutate})}function ie(i,u){var r=v.useRef(!1),n=v.useState(0),t=n[1],e=D(),a=ne(),s=e.defaultQueryObserverOptions(i);s.optimisticResults=!0,s.onError&&(s.onError=O.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=O.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=O.batchCalls(s.onSettled)),s.suspense&&(typeof s.staleTime!="number"&&(s.staleTime=1e3),s.cacheTime===0&&(s.cacheTime=1)),(s.suspense||s.useErrorBoundary)&&(a.isReset()||(s.retryOnMount=!1));var c=v.useState(function(){return new u(e,s)}),o=c[0],l=o.getOptimisticResult(s);if(v.useEffect(function(){r.current=!0,a.clearReset();var f=o.subscribe(O.batchCalls(function(){r.current&&t(function(p){return p+1})}));return o.updateResult(),function(){r.current=!1,f()}},[a,o]),v.useEffect(function(){o.setOptions(s,{listeners:!1})},[s,o]),s.suspense&&l.isLoading)throw o.fetchOptimistic(s).then(function(f){var p=f.data;s.onSuccess==null||s.onSuccess(p),s.onSettled==null||s.onSettled(p,null)}).catch(function(f){a.clearReset(),s.onError==null||s.onError(f),s.onSettled==null||s.onSettled(void 0,f)});if(l.isError&&!a.isReset()&&!l.isFetching&&N(s.suspense,s.useErrorBoundary,[l.error,o.getCurrentQuery()]))throw l.error;return s.notifyOnChangeProps==="tracked"&&(l=o.trackResult(l,s)),l}function oe(i,u,r){var n=Y(i,u,r);return ie(n,Z)}const ce={async listarTodos(){try{return(await g.get("/tipos-equipamento")).data}catch(i){throw console.error("Erro ao listar tipos de equipamento:",i),i}},async buscarPorId(i){try{return(await g.get(`/tipos-equipamento/${i}`)).data}catch(u){throw console.error(`Erro ao buscar tipo de equipamento ${i}:`,u),u}},async criar(i){try{return(await g.post("/tipos-equipamento",i)).data}catch(u){throw console.error("Erro ao criar tipo de equipamento:",u),u}},async atualizar(i,u){try{return(await g.put(`/tipos-equipamento/${i}`,u)).data}catch(r){throw console.error(`Erro ao atualizar tipo de equipamento ${i}:`,r),r}},async remover(i){try{return(await g.delete(`/tipos-equipamento/${i}`)).data}catch(u){throw console.error(`Erro ao remover tipo de equipamento ${i}:`,u),u}}};export{ae as a,ce as t,oe as u};
